#!/usr/bin/env python
import sys, os, string, time

################ Interactive Prompt and Debugging ################

try:
    import readline
except ImportError:
  pass
else:
    import rlcompleter

h = [None]

class Prompt:
    def __init__(self, str='h[%d] >>> '):
        self.str = str;

    def __str__(self):
        try:
            if _ not in [h[-1], None, h]: h.append(_);
        except NameError:
           pass
        return self.str % len(h);

    def __radd__(self, other):
        return str(other) + str(self)


terms = [ 'xterm-color',
          'xterm-256color',
          'xterm',
          'rxvt',
          'rxvt-unicode',
          'rxvt-256color',
          'vt100', ]

if os.environ.get('TERM') in terms:
    sys.ps1 = Prompt('\001\033[0:1;32m\002h[\001\033[0:1;36m\002%d\001\033[0:1;32m\002] >>> \001\033[0m\002')
else:
    sys.ps1 = Prompt()

if os.environ.get('TERM') in terms:
    sys.ps2 = '\001\033[0:1;36m\002........ \001\033[0m\002'
else:
	sys.ps2 = '........ '

# Cleanup
del(terms)
